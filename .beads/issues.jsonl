{"id":"agent-2gv","title":"Release 0.1.0","description":"Releasing the first iteration","status":"in_progress","priority":1,"issue_type":"epic","created_at":"2025-12-31T01:06:29.173938+01:00","created_by":"l1x","updated_at":"2025-12-31T01:06:33.935456+01:00"}
{"id":"agent-2gv.1","title":"Replace anyhow with thiserror in docker-agent","description":"Remove anyhow crate dependency and use thiserror for proper error types in mcp/docker-agent. This improves error handling by making errors explicit and typed.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T02:19:39.128911+01:00","created_by":"l1x","updated_at":"2025-12-31T11:29:25.291876+01:00","closed_at":"2025-12-31T11:29:25.291882+01:00","comments":[{"id":1,"issue_id":"agent-2gv.1","author":"l1x","text":"Replaced anyhow::Result with Result\u003cT, DockerError\u003e. Added DockerError enum with variants: Connection, ContainerNotFound, OperationFailed, InvalidConfig. Ready for review.","created_at":"2025-12-31T01:32:49Z"}]}
{"id":"agent-2gv.2","title":"Implement docker_run (container start)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T20:32:02.018219+01:00","created_by":"l1x","updated_at":"2026-01-01T20:36:18.753424+01:00","closed_at":"2026-01-01T20:36:18.753424+01:00","close_reason":"Closed","dependencies":[{"issue_id":"agent-2gv.2","depends_on_id":"agent-2gv","type":"parent-child","created_at":"2026-01-01T20:32:02.019119+01:00","created_by":"daemon"}]}
{"id":"agent-2gv.3","title":"Implement docker_logs (log fetching)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T20:32:02.12531+01:00","created_by":"l1x","updated_at":"2026-01-01T21:45:28.317327+01:00","closed_at":"2026-01-01T21:45:28.317327+01:00","close_reason":"Implemented all Docker manager operations: logs, exec, stop, list, get","dependencies":[{"issue_id":"agent-2gv.3","depends_on_id":"agent-2gv","type":"parent-child","created_at":"2026-01-01T20:32:02.125912+01:00","created_by":"daemon"},{"issue_id":"agent-2gv.3","depends_on_id":"agent-2gv.2","type":"blocks","created_at":"2026-01-01T20:33:00.883297+01:00","created_by":"daemon"}]}
{"id":"agent-2gv.4","title":"Implement docker_exec (execute command)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T20:32:02.239118+01:00","created_by":"l1x","updated_at":"2026-01-01T21:45:28.319206+01:00","closed_at":"2026-01-01T21:45:28.319206+01:00","close_reason":"Implemented all Docker manager operations: logs, exec, stop, list, get","dependencies":[{"issue_id":"agent-2gv.4","depends_on_id":"agent-2gv","type":"parent-child","created_at":"2026-01-01T20:32:02.239903+01:00","created_by":"daemon"},{"issue_id":"agent-2gv.4","depends_on_id":"agent-2gv.2","type":"blocks","created_at":"2026-01-01T20:33:00.967494+01:00","created_by":"daemon"}]}
{"id":"agent-2gv.5","title":"Implement docker_stop (container stop)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T20:32:02.365612+01:00","created_by":"l1x","updated_at":"2026-01-01T21:45:28.320725+01:00","closed_at":"2026-01-01T21:45:28.320725+01:00","close_reason":"Implemented all Docker manager operations: logs, exec, stop, list, get","dependencies":[{"issue_id":"agent-2gv.5","depends_on_id":"agent-2gv","type":"parent-child","created_at":"2026-01-01T20:32:02.366207+01:00","created_by":"daemon"},{"issue_id":"agent-2gv.5","depends_on_id":"agent-2gv.2","type":"blocks","created_at":"2026-01-01T20:33:01.053427+01:00","created_by":"daemon"}]}
{"id":"agent-2gv.6","title":"Implement docker_list (list containers)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T20:32:02.478866+01:00","created_by":"l1x","updated_at":"2026-01-01T21:45:28.322173+01:00","closed_at":"2026-01-01T21:45:28.322173+01:00","close_reason":"Implemented all Docker manager operations: logs, exec, stop, list, get","dependencies":[{"issue_id":"agent-2gv.6","depends_on_id":"agent-2gv","type":"parent-child","created_at":"2026-01-01T20:32:02.479496+01:00","created_by":"daemon"},{"issue_id":"agent-2gv.6","depends_on_id":"agent-2gv.2","type":"blocks","created_at":"2026-01-01T20:33:01.14025+01:00","created_by":"daemon"}]}
{"id":"agent-2gv.7","title":"Implement docker_get (get container info)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-01T20:32:02.606533+01:00","created_by":"l1x","updated_at":"2026-01-01T21:45:28.323803+01:00","closed_at":"2026-01-01T21:45:28.323803+01:00","close_reason":"Implemented all Docker manager operations: logs, exec, stop, list, get","dependencies":[{"issue_id":"agent-2gv.7","depends_on_id":"agent-2gv","type":"parent-child","created_at":"2026-01-01T20:32:02.607111+01:00","created_by":"daemon"},{"issue_id":"agent-2gv.7","depends_on_id":"agent-2gv.2","type":"blocks","created_at":"2026-01-01T20:33:01.230226+01:00","created_by":"daemon"}]}
{"id":"agent-2gv.8","title":"Implement Streamable HTTP transport","description":"Implement MCP Streamable HTTP transport as an alternative to stdio. The server operates as an independent HTTP process handling multiple client connections.\n\n## Requirements\n\n**Single MCP Endpoint** supporting POST and GET methods (e.g., `/mcp`)\n\n**POST (Client → Server messages):**\n- Accept header must list `application/json` and `text/event-stream`\n- Body: single JSON-RPC request/notification/response\n- Response: either `application/json` (single response) or `text/event-stream` (SSE stream)\n- Notifications/responses return 202 Accepted\n\n**GET (Server → Client messages):**\n- Opens SSE stream for server-initiated messages\n- Accept header must list `text/event-stream`\n- Returns 405 if SSE not supported\n\n**Session Management:**\n- Optional `Mcp-Session-Id` header (UUID/JWT)\n- 404 when session expires, 400 for missing session ID\n\n**Resumability:**\n- SSE event IDs for stream resumption\n- `Last-Event-ID` header support for reconnection\n\n## Security Requirements (MUST)\n- Validate `Origin` header (DNS rebinding protection)\n- Bind to localhost only (127.0.0.1)\n- Implement authentication\n\n## Implementation Notes\n- Use `axum` or `hyper` for HTTP server\n- SSE via `tokio-stream` or `async-stream`\n- Maintain compatibility with existing DockerManager","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-01T20:43:00.251373+01:00","created_by":"l1x","updated_at":"2026-01-01T20:47:47.996097+01:00","closed_at":"2026-01-01T20:47:47.996097+01:00","close_reason":"Closed","dependencies":[{"issue_id":"agent-2gv.8","depends_on_id":"agent-2gv","type":"parent-child","created_at":"2026-01-01T20:43:00.255115+01:00","created_by":"daemon"}]}
{"id":"agent-2gv.9","title":"Add workflow visualization with MermaidJS to README","description":"```xml\n\u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e\n\u003ctask\u003e\n  \u003cinstructions\u003e\n    \u003csummary\u003eAdd MermaidJS workflow diagrams to main README\u003c/summary\u003e\n    \u003cobjective\u003e\n      Create visual documentation showing the agent-prompts development workflow:\n      1. End-to-end pipeline: PRD → Tasks → Prepare → Execute → Review\n      2. Orchestrator architecture: Host orchestrator spawning container workers\n      3. Execution modes: Automatic (container agents) vs Human fallback\n    \u003c/objective\u003e\n    \u003cconstraints\u003e\n      - Use MermaidJS syntax (renders natively in GitHub)\n      - Complement existing ASCII architecture diagram\n      - Show inputs/outputs at each stage\n      - Clarify when human intervention is needed\n    \u003c/constraints\u003e\n  \u003c/instructions\u003e\n\n  \u003ccontext\u003e\n    \u003ctree root=\".\"\u003e\n        .\n        ├── README.md                    ← Edit this file\n        ├── context/\n        │   └── project-management.md    ← Beads workflow reference\n        └── do/\n            ├── create-prd.md            ← Stage 1: PRD creation\n            ├── generate-tasks.md        ← Stage 2: Task decomposition  \n            ├── prepare-task.md          ← Stage 3: Context curation\n            ├── execute-task.md          ← Stage 4: Task execution (worker)\n            ├── execute-epic.md          ← Stage 4: Epic orchestration\n            └── create-docker-image.md   ← Container setup\n    \u003c/tree\u003e\n\n    \u003cfiles\u003e\n      \u003cfile path=\"README.md\" mode=\"full\"/\u003e\n      \u003cfile path=\"do/create-prd.md\" mode=\"codemap\"/\u003e\n      \u003cfile path=\"do/generate-tasks.md\" mode=\"codemap\"/\u003e\n      \u003cfile path=\"do/prepare-task.md\" mode=\"codemap\"/\u003e\n      \u003cfile path=\"do/execute-task.md\" mode=\"codemap\"/\u003e\n      \u003cfile path=\"do/execute-epic.md\" mode=\"codemap\"/\u003e\n      \u003cfile path=\"context/project-management.md\" mode=\"codemap\"/\u003e\n    \u003c/files\u003e\n  \u003c/context\u003e\n\n  \u003cworkflow_to_visualize\u003e\n    \u003cstage name=\"1. PRD Creation\"\u003e\n      Input: User feature request\n      Output: prds/prd-*.md\n      Actor: Human or AI with human review\n    \u003c/stage\u003e\n    \u003cstage name=\"2. Task Generation\"\u003e\n      Input: PRD file\n      Output: Epic + child tasks in beads (bd create)\n      Actor: AI agent\n    \u003c/stage\u003e\n    \u003cstage name=\"3. Context Preparation\"\u003e\n      Input: Task ID from bd ready\n      Output: XML context spec in task description\n      Actor: AI agent (prepare-task.md)\n    \u003c/stage\u003e\n    \u003cstage name=\"4. Execution\"\u003e\n      Input: Task with context\n      Output: Code changes, PR-ready branch\n      Actor: Container agent (execute-task.md) OR human fallback\n      Orchestrator: Host Claude Code runs execute-epic.md\n    \u003c/stage\u003e\n    \u003cstage name=\"5. Review\"\u003e\n      Input: Blocked tasks (status=blocked)\n      Output: Approved/merged or feedback\n      Actor: Human reviewer\n    \u003c/stage\u003e\n  \u003c/workflow_to_visualize\u003e\n\n  \u003cdiagrams_to_create\u003e\n    \u003cdiagram type=\"flowchart TD\"\u003e\n      Pipeline: PRD → generate-tasks → prepare-task → execute-task → review\n      Show inputs/outputs at each node\n    \u003c/diagram\u003e\n    \u003cdiagram type=\"flowchart LR\"\u003e\n      Orchestrator pattern:\n      Host (bd ready) → spawn containers → monitor logs → collect results\n      Max 4 concurrent containers\n    \u003c/diagram\u003e\n    \u003cdiagram type=\"flowchart\"\u003e\n      Execution decision:\n      Task ready? → Container agent (automatic)\n                 → Human fallback (if container fails/blocks)\n    \u003c/diagram\u003e\n  \u003c/diagrams_to_create\u003e\n\n  \u003cguidance\u003e\n    \u003crole\u003eTechnical writer with MermaidJS expertise\u003c/role\u003e\n    \u003cstyle\u003eClean diagrams that explain the agentic workflow to new users\u003c/style\u003e\n  \u003c/guidance\u003e\n\u003c/task\u003e\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T11:23:03.633472+01:00","created_by":"l1x","updated_at":"2026-01-02T12:31:34.513996+01:00","closed_at":"2026-01-02T12:31:34.513996+01:00","close_reason":"Added 3 MermaidJS diagrams to README: pipeline flowchart, orchestrator pattern, and execution modes"}
{"id":"agent-aym","title":"Support server-side environment variable expansion in docker_run","description":"Allow env_vars entries without '=' to be expanded from server environment. e.g. env_vars: [\"GITHUB_TOKEN\"] expands to GITHUB_TOKEN=\u003cvalue from server env\u003e","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-01T21:48:54.615994+01:00","created_by":"l1x","updated_at":"2026-01-01T21:50:16.676203+01:00","closed_at":"2026-01-01T21:50:16.676203+01:00","close_reason":"Implemented server-side env var expansion"}
{"id":"agent-gvo","title":"Add unit and integration tests for docker-agent","description":"Add comprehensive test coverage for the docker-agent MCP server including unit tests for tools.rs serde serialization, mcp_server.rs JSON-RPC handling, and integration tests for MCP protocol flow.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-31T11:11:10.936046+01:00","created_by":"l1x","updated_at":"2025-12-31T11:29:04.070793+01:00","closed_at":"2025-12-31T11:29:04.070793+01:00","close_reason":"Added 49 tests: 14 unit tests for tools.rs, 13 unit tests for mcp_server.rs, 22 integration tests for MCP protocol","dependencies":[{"issue_id":"agent-gvo","depends_on_id":"agent-2gv","type":"blocks","created_at":"2025-12-31T11:11:18.850474+01:00","created_by":"daemon"}]}
{"id":"agent-x0l","title":"Add request/error logging and fix serde defaults in docker-agent","description":"## Problems\n\n1. **Missing serde defaults**: `DockerRunArgs.env_vars` and `volume_mounts` fields don't have `#[serde(default)]`, causing deserialization to fail when these optional fields are omitted.\n\n2. **Missing logging**: No logging for incoming requests or errors in mcp_server.rs. Makes debugging difficult.\n\n## Fix\n- Add `#[serde(default)]` to Vec fields in tools.rs\n- Add tracing::info/error for requests and errors in mcp_server.rs","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-01T20:59:18.970642+01:00","created_by":"l1x","updated_at":"2026-01-01T21:23:52.848827+01:00","closed_at":"2026-01-01T21:23:52.848827+01:00","close_reason":"Fixed serde defaults for env_vars/volume_mounts and added comprehensive request/error logging to both stdio and HTTP transports"}
